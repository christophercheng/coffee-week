(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,n,t){e.exports=t(47)},37:function(e,n,t){},47:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(16),i=t.n(c),o=(t(37),t(6)),u={users:{},pairings:{},filter:{selectedCity:"ny",selectedDepartments:{engineering:!0}}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.users,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOAD_USERS_SUCCESS":return n.users;default:return e}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.pairings,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"MAKE_PAIRINGS":return n.pairings;default:return e}},f=t(9),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.filter,n=arguments.length>1?arguments[1]:void 0;switch(console.log("filter reducer state: ",e," filter action: ",n),n.type){case"UPDATE_FILTER":return n.filter;case"LOAD_USERS_SUCCESS":return Object(f.a)({},e,{selectedDepartments:Object(f.a)({},n.departments,e.selectedDepartments)});default:return e}},m=Object(o.c)({users:l,pairings:s,filter:d}),p=t(24),b=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,h=function(){return Object(o.e)(m,b(Object(o.a)(p.a)))},g=t(8),v=t(50),O=t(51),E=t(10),j=function(e){var n=e?"?location=".concat(e):"";return fetch("https://hbc-frontend-challenge.hbccommon.private.hbc.com/coffee-week/users/"+n).then(function(e){return e.json()}).catch(function(e){return e})},y=t(29),w=t(30),k=function(e,n){for(var t={},r=function(e,n){return console.log("apply Dept Filter: ",e,n),Object.keys(e).filter(function(t){var r=e[t].department;return n.selectedDepartments[r]})}(e,n),a=Object(y.a)(r).sort(function(e,n){return.5-Math.random()});r.length;){var c=r.shift(),i=a[0]===c?a.pop():a.shift();t[c]=i}return t},C=function(e,n){return{type:"LOAD_USERS_SUCCESS",users:e,departments:n}},D=function(e){return function(n,t){var r=Object(f.a)({},t().filter,{selectedCity:e});n(S(t().users[e],r)),n({type:"UPDATE_FILTER",filter:r})}},x=function(e){return function(n,t){console.log("selected dept: ",e);var r=t(),a=r.filter.selectedDepartments,c=Object(f.a)({},r.filter,{selectedDepartments:Object(f.a)({},a,Object(E.a)({},e,!a[e]))});console.log("new filter: ",c);var i=r.filter.selectedCity;n({type:"UPDATE_FILTER",filter:c}),n(S(r.users[i],c)),console.log("filter after: ",r.filter)}},S=function(e,n){return{type:"MAKE_PAIRINGS",pairings:k(e,n)}},_=t(2),I=t(3);function G(){var e=Object(_.a)(["\n    padding: 1.5rem 1.5rem;\n    font-size: 1.75rem;\n  "]);return G=function(){return e},e}function R(){var e=Object(_.a)(["\n  box-sizing: border-box;\n  background-color: DimGray;\n  color: white;\n  padding: 1rem 4rem;\n  border: 1px solid DarkGray;\n  ","\n"]);return R=function(){return e},e}function L(){var e=Object(_.a)(["\n    background-color: LightGray;\n    font-size: 1.25rem;\n  "]);return L=function(){return e},e}function A(){var e=Object(_.a)(["\n  background-color: white;\n  border: 1px solid DimGray;\n  ","\n"]);return A=function(){return e},e}function U(){var e=Object(_.a)(["\n    background-color: white;\n    padding: .75rem 2rem;\n    font-size: 3rem;\n    border: 1px solid DarkGray;\n  "]);return U=function(){return e},e}function z(){var e=Object(_.a)(["\n  box-sizing: border-box;\n  font-size: 1rem;\n  margin-bottom: 1rem;\n  ","\n"]);return z=function(){return e},e}function F(){var e=Object(_.a)(["\n    @media (max-width: ","em) {\n      ","\n    }\n  "]);return F=function(){return e},e}var P={desktop:992,tablet:768,mobile:576},T=Object.keys(P).reduce(function(e,n){return e[n]=function(){return Object(I.css)(F(),P[n]/16,I.css.apply(void 0,arguments))},e},{}),M=I.default.div(z(),T.mobile(U())),N=Object(I.default)(M)(A(),T.mobile(L())),K=I.default.div(R(),T.mobile(G())),V=function(e){var n=e.title,t=e.selectedCity;return a.a.createElement(M,null,a.a.createElement(K,null,"".concat(n," (").concat(t,")")))},W=Object(g.b)(function(e){return{selectedCity:e.filter.selectedCity}})(V),B=t(12),J=t(14),X=t(13),$=t(15);function q(){var e=Object(_.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n"]);return q=function(){return e},e}function H(){var e=Object(_.a)(["\n  margin-right: .5rem;\n  font-size: .75rem;\n  display: flex;\n  flex-wrap: nowrap;\n"]);return H=function(){return e},e}function Q(){var e=Object(_.a)(["\n  //font-size: 1rem;\n  margin-right: 5px;\n"]);return Q=function(){return e},e}function Y(){var e=Object(_.a)(["\n    position: fixed;\n    bottom: 0;\n    margin: 0;\n    width: 100%;\n  "]);return Y=function(){return e},e}function Z(){var e=Object(_.a)(["\n\n  ","\n"]);return Z=function(){return e},e}var ee=Object(I.default)(M)(Z(),T.mobile(Y())),ne=I.default.span(Q()),te=I.default.span(H()),re=Object(I.default)(K)(q()),ae=function(e){function n(){var e,t;Object(B.a)(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(t=Object(J.a)(this,(e=Object(X.a)(n)).call.apply(e,[this].concat(c)))).onCityChange=function(e){var n=e.target.value;t.props.selectCity(n)},t.handleFilterDept=function(e){var n=e.target.value;console.log("handle dept: ",n),t.props.changeDeptSelection(n)},t.renderSelectOption=function(e){return a.a.createElement("option",{key:e,value:e},e)},t.renderCheckbox=function(e){var n=t.props.departments[e];return a.a.createElement(te,{key:e},a.a.createElement("input",{type:"checkbox",value:e,checked:n,onChange:t.handleFilterDept}),e)},t.render=function(){return a.a.createElement(ee,null,a.a.createElement(re,null,a.a.createElement(ne,null,"FILTER: "),a.a.createElement(te,null,a.a.createElement("select",{onChange:t.onCityChange,value:t.props.selectedCity},t.props.cities.map(t.renderSelectOption))),Object.keys(t.props.departments).map(t.renderCheckbox)))},t}return Object($.a)(n,e),n}(a.a.Component),ce=Object(g.b)(function(e){return{cities:Object.keys(e.users),selectedCity:e.filter.selectedCity,departments:e.filter.selectedDepartments}},function(e){return Object(o.b)({selectCity:D,changeDeptSelection:x},e)})(ae),ie=t(17);function oe(){var e=Object(_.a)(["\n  display: inline-block;\n  font-size: 1rem;\n"]);return oe=function(){return e},e}function ue(){var e=Object(_.a)(["\n  border: 1px solid DarkGray;\n  margin-top: .5rem;\n  margin-bottom: .5rem;\n"]);return ue=function(){return e},e}function le(){var e=Object(_.a)(["\n    width: 100%;\n    min-height: 0;\n  "]);return le=function(){return e},e}function se(){var e=Object(_.a)(["\n  width: 38%;\n"]);return se=function(){return e},e}function fe(){var e=Object(_.a)(["\n  border: 1px solid DimGray;\n  margin-bottom: 1rem;\n  background-color: #E6E6E6;\n  color: black;\n  padding: 1rem 1.5rem;\n  font-size: .75rem;\n  width: 42%;\n  min-height: 100px;\n  \n  ","\n  ","\n"]);return fe=function(){return e},e}var de=I.default.div(fe(),T.tablet(se()),T.mobile(le())),me=I.default.div(ue()),pe=I.default.span(oe()),be=function(e){var n=e.giverInfo,t=e.receiverInfo,r=function(e){var n=e.first,t=e.last;return a.a.createElement("div",null,n," ",t)};return a.a.createElement(de,null,a.a.createElement("div",null,"GIVER: ",a.a.createElement(pe,null,r(n.name))),a.a.createElement(me,null),a.a.createElement("div",null,"RECEIVER: ",a.a.createElement(pe,null,r(t.name))))};function he(){var e=Object(_.a)(["\n    padding: 2px;\n    padding-bottom: 100px;\n    background-color: LightGray;\n    border: none;\n"]);return he=function(){return e},e}function ge(){var e=Object(_.a)(["\n  background-color: white;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-content: flex-start;\n  width: 100%;\n  padding: 0;\n  border: none;\n  margin: 0;\n  ","\n"]);return ge=function(){return e},e}function ve(){var e=Object(_.a)(["\n    background: LightGray;\n    border: none;\n    padding-top: 0rem;\n  "]);return ve=function(){return e},e}function Oe(){var e=Object(_.a)(["\n  padding: 3rem 4rem 0rem;\n  border: none;\n\n  ","\n\n"]);return Oe=function(){return e},e}var Ee=Object(I.default)(N)(Oe(),T.mobile(ve())),je=Object(I.default)(K)(ge(),T.mobile(he())),ye=function(e){function n(){var e,t;Object(B.a)(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(t=Object(J.a)(this,(e=Object(X.a)(n)).call.apply(e,[this].concat(c)))).renderPair=function(e){var n=t.props.users,r=n[e[0]],c=n[e[1]];return a.a.createElement(be,{key:r.phone,giverInfo:r,receiverInfo:c})},t}return Object($.a)(n,e),Object(ie.a)(n,[{key:"render",value:function(){var e=this.props.pairings;return a.a.createElement(Ee,null,e?a.a.createElement(je,null,Object.entries(e).map(this.renderPair)):a.a.createElement(je,null,"Loading Pairings"))}}]),n}(a.a.Component),we=Object(g.b)(function(e){return{users:e.users[e.filter.selectedCity],pairings:e.pairings}})(ye),ke=function(e){return a.a.createElement("div",null,a.a.createElement(W,{title:"COFFEE WEEK"}),a.a.createElement(ce,null),a.a.createElement(we,null))},Ce=function(e){function n(e){var t;return Object(B.a)(this,n),(t=Object(J.a)(this,Object(X.a)(n).call(this,e))).state={hasError:!1},t}return Object($.a)(n,e),Object(ie.a)(n,[{key:"componentDidCatch",value:function(e,n){console.log("Uncaught Error: ",e,n)}},{key:"render",value:function(){return this.state.hasError?a.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.a.Component),De=t(27),xe=t.n(De);t(44);function Se(){var e=Object(_.a)(["\n      background-color: LightGray;\n    "]);return Se=function(){return e},e}function _e(){var e=Object(_.a)(["\n  ","\n\n  body {\n    padding: 0;\n    margin: 0;\n    font-family: Roboto, sans-serif;\n    font-weight: 350;\n    background: white;\n\n    ","\n  }\n"]);return _e=function(){return e},e}var Ie=Object(I.createGlobalStyle)(_e(),xe.a,T.mobile(Se())),Ge=h();Ge.dispatch(function(e,n){return j().then(function(t){var r=function(e){var n={};return e.forEach(function(e){var t=e.guid,r=e.location,a=Object(w.a)(e,["guid","location"]);r in n?n[r][t]=a:n[r]=Object(E.a)({},t,a)}),n}(t.users),a=function(e){var n={};return e.forEach(function(e){e.department in n||(n[e.department]=!1)}),n}(t.users);e(C(r,a)),e(D(n().filter.selectedCity))}).catch(function(e){throw e})});var Re=function(){return a.a.createElement(Ce,null,a.a.createElement(Ie,null),a.a.createElement(g.a,{store:Ge},a.a.createElement(v.a,null,a.a.createElement(O.a,{exact:!0,path:"/",component:ke}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(Re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.5caabe4d.chunk.js.map